## Freemarker

不经常修改，又经常访问的页面使用Freemarker

一般叫 *.ftl  ，文件名和扩展名没有限制

<#-- 注释 -->	Freemarker注释		不会输出到最终文件中

<!-- HTML注释 -->				会输出到最终文件中

使用变量：

	${ 名称 }  设置变量名称后，必须在生成模板时**赋值**

#### 步骤

1. 创建配置对象
2. 设置模板所在目录
3. 设置字符集
4. 获取模板对象
5. 创建数据模型
6. 创建一个输出流对象
7. 输出
8. 关闭输出流

#### Freemarker指令

```html
<#assign 变量名称="变量值"/ 变量名称={“键”:"值"} >	给当前页面变量赋值		单=号和双==号都可以

<#include "模板路径">	包含，实现类似asp.net母板页效果

<#if 变量=true/false>
	等true显示内容
       <#else>
    等false显示内容
</#if>	true显示if下内容
<#list 集合 as 循环临时变量>
    ${临时变量[.xxx如果有属性]}
    ${临时变量_index[+、-、*、/]} 获取循环每次索引
</#lis>      
```

#### Freemarker内置函数

```java
获取数组中的集合数量
	${数组对象?size}
eval是将JSON变量字符串转换成JSON
	<#assign 变量名称=变量?eval>
日期
	${当前日期对象?data}当前日期
	${当前日期对象?time}当前时间
	${当前日期对象?datatime}当前日期+当前时间
	日期格式化
		${当前日期对象?string('yyyy-MM-dd[自定义格式]')}
数字转字符串
	${字符串?c}
判断变量是否存在
	${变量??}		对象存在返回true，否则false
!为空时替换
	${变量!替(换值/对象)}

运算符：
	比较运算符
		(值 >|< 值)		|		值 gt大于|lt小于|gte大于等于|lte小于等于 值
索引获取集合元素
	元素 集合[索引]



```

### Nginx

只能访问静态网页/资源

最高一台5W并发	







